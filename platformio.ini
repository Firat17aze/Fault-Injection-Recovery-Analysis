; PlatformIO Configuration for FIRA
; Fault Injection & Recovery Analysis
; Target: ATmega328P (Arduino Uno compatible)
; Framework: Bare Metal C (No Arduino)

[env:uno]
platform = atmelavr
board = uno

; No framework - pure bare metal
; framework = 

; Use system toolchain (Homebrew avr-gcc for Apple Silicon)
platform_packages = 
    toolchain-atmelavr@file:///opt/homebrew

; Compiler flags
build_flags = 
    -std=gnu99
    -Os
    -DF_CPU=16000000UL
    -mmcu=atmega328p
    -Wall
    -Wextra
    -Werror=return-type
    -ffunction-sections
    -fdata-sections
    -flto

; Linker flags
build_unflags = 
    -std=gnu++11
    -std=gnu++14
    -std=gnu++17

; Upload settings
upload_protocol = arduino
upload_speed = 115200

; Serial monitor
monitor_speed = 115200
monitor_filters = direct

[platformio]
default_envs = uno
